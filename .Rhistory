levels = c(0, 1),
labels = c("absent", "present")
)
) %>%
ggplot(aes(x = windspeed_ms,
y = .epred,
color = midshield_binomial,
fill = midshield_binomial)) +
geom_point(data = microclimate_shield_date_day %>%
mutate(
temp_C = min_T2_05,
midshield_binomial = factor(
midshield_binomial,
levels = c(0, 1),
labels = c("absent", "present")
)
),
aes(x = max_windspeed,
y = temp_C,
color = midshield_binomial),
alpha = 0.05,
inherit.aes = FALSE) +
stat_lineribbon(.width = 0.95,
alpha = 0.5,
size = 1) +
scale_color_manual(values = shield_colors) +
scale_fill_manual(values = shield_colors) +
labs(
x = expression("Max hourly windspeed (m/s)"),
y = expression("Predicted Night-time Min Temp ("*degree*"C)"),
color = "Midshield",
fill = "Midshield"
) +
theme_classic()
microclimate_shield_date_night %>%
data_grid(
wind_scaled = seq_range(wind_scaled, n = 101),
midshield_binomial = c(0, 1)
) %>%
add_epred_draws(m_night_date_05, re_formula = NA) %>%
mutate(
# Back-transform windspeed
windspeed_ms = wind_scaled * wind_sd + wind_mean,
midshield_binomial = factor(
midshield_binomial,
levels = c(0, 1),
labels = c("absent", "present")
)
) %>%
ggplot(aes(x = windspeed_ms,
y = .epred,
color = midshield_binomial,
fill = midshield_binomial)) +
geom_point(data = microclimate_shield_date_night %>%
mutate(
temp_C = min_T2_05,
midshield_binomial = factor(
midshield_binomial,
levels = c(0, 1),
labels = c("absent", "present")
)
),
aes(x = max_windspeed,
y = temp_C,
color = midshield_binomial),
alpha = 0.05,
inherit.aes = FALSE) +
stat_lineribbon(.width = 0.95,
alpha = 0.5,
size = 1) +
scale_color_manual(values = shield_colors) +
scale_fill_manual(values = shield_colors) +
labs(
x = expression("Max hourly windspeed (m/s)"),
y = expression("Predicted Night-time Min Temp ("*degree*"C)"),
color = "Midshield",
fill = "Midshield"
) +
theme_classic()
View(microclimate_shield_date_night)
wind_night_mean <- mean(microclimate_shield_date_night$max_windspeed)
wind_night_sd   <- sd(microclimate_shield_date_night$max_windspeed)
wind_night_mean <- mean(microclimate_shield_date_night$max_windspeed)
wind_night_sd   <- sd(microclimate_shield_date_night$max_windspeed)
wind_mean <- mean(microclimate_shield_date_day$max_windspeed)
wind_sd   <- sd(microclimate_shield_date_day$max_windspeed)
wind_night_mean <- mean(microclimate_shield_date_night$max_windspeed)
wind_night_sd   <- sd(microclimate_shield_date_night$max_windspeed)
View(microclimate_shield_date_day)
wind_night_mean <- mean(microclimate_shield_date_night$max_windspeed, na.rm = TRUE)
wind_night_sd   <- sd(microclimate_shield_date_night$max_windspeed, na.rm = TRUE)
microclimate_shield_date_night %>%
data_grid(
wind_scaled = seq_range(wind_scaled, n = 101),
midshield_binomial = c(0, 1)
) %>%
add_epred_draws(m_night_date_05, re_formula = NA) %>%
mutate(
# Back-transform windspeed
windspeed_ms = wind_scaled * wind_night_sd + wind_night_mean,
midshield_binomial = factor(
midshield_binomial,
levels = c(0, 1),
labels = c("absent", "present")
)
) %>%
ggplot(aes(x = windspeed_ms,
y = .epred,
color = midshield_binomial,
fill = midshield_binomial)) +
geom_point(data = microclimate_shield_date_night %>%
mutate(
temp_C = min_T2_05,
midshield_binomial = factor(
midshield_binomial,
levels = c(0, 1),
labels = c("absent", "present")
)
),
aes(x = max_windspeed,
y = temp_C,
color = midshield_binomial),
alpha = 0.05,
inherit.aes = FALSE) +
stat_lineribbon(.width = 0.95,
alpha = 0.5,
size = 1) +
scale_color_manual(values = shield_colors) +
scale_fill_manual(values = shield_colors) +
labs(
x = expression("Max hourly windspeed (m/s)"),
y = expression("Predicted Night-time Min Temp ("*degree*"C)"),
color = "Midshield",
fill = "Midshield"
) +
theme_classic()
scale_fill_manual(values = shield_colors) +
scale_fill_manual(values = shield_colors) +
labs(
midshield_binomial = factor(
microclimate_shield_date_night %>%
data_grid(
wind_scaled = seq_range(wind_scaled, n = 101),
midshield_binomial = c(0, 1)
) %>%
add_epred_draws(m_night_date_05, re_formula = NA) %>%
mutate(
# Back-transform windspeed
windspeed_ms = wind_scaled * wind_night_sd + wind_night_mean,
midshield_binomial = factor(
midshield_binomial,
levels = c(0, 1),
labels = c("absent", "present")
)
) %>%
ggplot(aes(x = windspeed_ms,
y = .epred,
color = midshield_binomial,
fill = midshield_binomial)) +
geom_point(data = microclimate_shield_date_night %>%
mutate(
temp_C = min_T2_05,
midshield_binomial = factor(
midshield_binomial,
levels = c(0, 1),
labels = c("absent", "present")
)
),
aes(x = max_windspeed,
y = temp_C,
color = midshield_binomial),
alpha = 0.05,
inherit.aes = FALSE) +
stat_lineribbon(.width = 0.95,
alpha = 0.5,
size = 1) +
scale_color_manual(values = shield_colors) +
scale_fill_manual(values = shield_colors) +
coord_cartesian(ylim = c(10, 25)) +  # Focuses the y-axis between 10 and 25 degrees
labs(
x = expression("Max hourly windspeed (m/s)"),
y = expression("Predicted Night-time Min Temp ("*degree*"C)"),
color = "Midshield",
fill = "Midshield"
) +
theme_classic()
microclimate_shield_date_night %>%
microclimate_shield_date_night %>%
data_grid(
wind_scaled = seq_range(wind_scaled, n = 101),
midshield_binomial = c(0, 1)
) %>%
add_epred_draws(m_night_date_05, re_formula = NA) %>%
mutate(
# Back-transform windspeed
windspeed_ms = wind_scaled * wind_night_sd + wind_night_mean,
midshield_binomial = factor(
midshield_binomial,
levels = c(0, 1),
labels = c("absent", "present")
)
) %>%
ggplot(aes(x = windspeed_ms,
y = .epred,
color = midshield_binomial,
fill = midshield_binomial)) +
geom_point(data = microclimate_shield_date_night %>%
mutate(
temp_C = min_T2_05,
midshield_binomial = factor(
midshield_binomial,
levels = c(0, 1),
labels = c("absent", "present")
)
),
aes(x = max_windspeed,
y = temp_C,
color = midshield_binomial),
alpha = 0.05,
inherit.aes = FALSE) +
stat_lineribbon(.width = 0.95,
alpha = 0.5,
size = 1) +
scale_color_manual(values = shield_colors) +
scale_fill_manual(values = shield_colors) +
coord_cartesian(ylim = c(10, 25)) +  # Focuses the y-axis between 10 and 25 degrees
labs(
x = expression("Max hourly windspeed (m/s)"),
y = expression("Predicted Night-time Min Temp ("*degree*"C)"),
color = "Midshield",
fill = "Midshield"
) + theme_classic()
Plot_A_refined <- ggplot(microclimate_shield_total_day, aes(x = factor(midshield), y = max_T2_95, fill = midshield)) +
# Use a half-violin (raincloud plot) to make it less crowded
ggdist::stat_halfeye(adjust = .5, width = .3, .width = 0, justification = -.3, point_colour = NA) +
geom_boxplot(width = .1, outlier.shape = NA, alpha = 0.5) +
# Add a horizontal line at the Intercept from your Bayesian model
geom_hline(yintercept = 29.35, linetype = "dashed", alpha = 0.5) +
labs(subtitle = "A: Daytime (11:00 - 17:00)", y = "Max temp (째C)") +
theme_minimal() +
theme(
axis.title.x = element_blank(),
axis.text.x = element_text(family = "Lato", size = 16),
axis.text.y = element_text(family = "Lato", size = 16),
axis.title.y = element_text(family = "Lato", size = 16, margin = margin(r = 10)),
legend.position = "none"
) +
scale_color_manual(values = shield_colors) +
scale_fill_manual(values = shield_colors)
Plot_A_refined
microclimate_shield_date_night %>%
data_grid(
wind_scaled = seq_range(wind_scaled, n = 101),
midshield_binomial = c(0, 1)
) %>%
add_epred_draws(m_night_date_05, re_formula = NA) %>%
mutate(
# Back-transform windspeed
windspeed_ms = wind_scaled * wind_night_sd + wind_night_mean,
midshield_binomial = factor(
midshield_binomial,
levels = c(0, 1),
labels = c("absent", "present")
)
) %>%
ggplot(aes(x = windspeed_ms,
y = .epred,
color = midshield_binomial,
fill = midshield_binomial)) +
geom_point(data = microclimate_shield_date_night %>%
mutate(
temp_C = min_T2_05,
midshield_binomial = factor(
midshield_binomial,
levels = c(0, 1),
labels = c("absent", "present")
)
),
aes(x = max_windspeed,
y = temp_C,
color = midshield_binomial),
alpha = 0.05,
inherit.aes = FALSE) +
stat_lineribbon(.width = 0.95,
alpha = 0.5,
size = 1) +
scale_color_manual(values = shield_colors) +
scale_fill_manual(values = shield_colors) +
coord_cartesian(ylim = c(10, 25)) +  # Focuses the y-axis between 10 and 25 degrees
labs(
x = expression("Max hourly windspeed (m/s)"),
y = expression("Predicted Night-time Min Temp ("*degree*"C)"),
color = "Midshield",
fill = "Midshield"
) +
theme_minimal() +
theme(
axis.title.x = element_blank(),
axis.text.x = element_text(family = "Arial", size = 16),
axis.text.y = element_text(family = "Arial", size = 16),
axis.title.y = element_text(family = "Arial", size = 16, margin = margin(r = 10)),
legend.position = "none"
)
microclimate_shield_date_night %>%
data_grid(
wind_scaled = seq_range(wind_scaled, n = 101),
midshield_binomial = c(0, 1)
) %>%
add_epred_draws(m_night_date_05, re_formula = NA) %>%
mutate(
# Back-transform windspeed
windspeed_ms = wind_scaled * wind_night_sd + wind_night_mean,
midshield_binomial = factor(
midshield_binomial,
levels = c(0, 1),
labels = c("absent", "present")
)
) %>%
ggplot(aes(x = windspeed_ms,
y = .epred,
color = midshield_binomial,
fill = midshield_binomial)) +
geom_point(data = microclimate_shield_date_night %>%
mutate(
temp_C = min_T2_05,
midshield_binomial = factor(
midshield_binomial,
levels = c(0, 1),
labels = c("absent", "present")
)
),
aes(x = max_windspeed,
y = temp_C,
color = midshield_binomial),
alpha = 0.05,
inherit.aes = FALSE) +
stat_lineribbon(.width = 0.95,
alpha = 0.5,
size = 1) +
scale_color_manual(values = shield_colors) +
scale_fill_manual(values = shield_colors) +
coord_cartesian(ylim = c(10, 25)) +  # Focuses the y-axis between 10 and 25 degrees
labs(
x = expression("Max hourly windspeed (m/s)"),
y = expression("Predicted Night-time Min Temp ("*degree*"C)"),
color = "Midshield",
fill = "Midshield"
) +
theme_minimal() +
theme(
axis.title.x = element_blank(),
axis.text.x = element_text(family = "Arial", size = 16),
axis.text.y = element_text(family = "Arial", size = 16),
axis.title.y = element_text(family = "Arial", size = 16, margin = margin(r = 10))
)
microclimate_shield_date_night %>%
data_grid(
wind_scaled = seq_range(wind_scaled, n = 101),
midshield_binomial = c(0, 1)
) %>%
add_epred_draws(m_night_date_05, re_formula = NA) %>%
mutate(
# Back-transform windspeed
windspeed_ms = wind_scaled * wind_night_sd + wind_night_mean,
midshield_binomial = factor(
midshield_binomial,
levels = c(0, 1),
labels = c("absent", "present")
)
) %>%
ggplot(aes(x = windspeed_ms,
y = .epred,
color = midshield_binomial,
fill = midshield_binomial)) +
geom_point(data = microclimate_shield_date_night %>%
mutate(
temp_C = min_T2_05,
midshield_binomial = factor(
midshield_binomial,
levels = c(0, 1),
labels = c("absent", "present")
)
),
aes(x = max_windspeed,
y = temp_C,
color = midshield_binomial),
alpha = 0.05,
inherit.aes = FALSE) +
stat_lineribbon(.width = 0.95,
alpha = 0.5,
size = 1) +
scale_color_manual(values = shield_colors) +
scale_fill_manual(values = shield_colors) +
coord_cartesian(ylim = c(10, 25)) +  # Focuses the y-axis between 10 and 25 degrees
labs(
x = expression("Max hourly windspeed (m/s)"),
y = expression("Predicted Night-time Min Temp (째C)"),
color = "Midshield",
fill = "Midshield"
) +
theme_minimal() +
theme(
axis.title.x = element_text(family = "Arial", size = 16),
axis.text.x = element_text(family = "Arial", size = 16),
axis.text.y = element_text(family = "Arial", size = 16),
axis.title.y = element_text(family = "Arial", size = 16, margin = margin(r = 10))
)
microclimate_shield_date_night %>%
data_grid(
wind_scaled = seq_range(wind_scaled, n = 101),
midshield_binomial = c(0, 1)
) %>%
add_epred_draws(m_night_date_05, re_formula = NA) %>%
mutate(
# Back-transform windspeed
windspeed_ms = wind_scaled * wind_night_sd + wind_night_mean,
midshield_binomial = factor(
midshield_binomial,
levels = c(0, 1),
labels = c("absent", "present")
)
) %>%
ggplot(aes(x = windspeed_ms,
y = .epred,
color = midshield_binomial,
fill = midshield_binomial)) +
geom_point(data = microclimate_shield_date_night %>%
mutate(
temp_C = min_T2_05,
midshield_binomial = factor(
midshield_binomial,
levels = c(0, 1),
labels = c("absent", "present")
)
),
aes(x = max_windspeed,
y = temp_C,
color = midshield_binomial),
alpha = 0.05,
inherit.aes = FALSE) +
stat_lineribbon(.width = 0.95,
alpha = 0.5,
size = 1) +
scale_color_manual(values = shield_colors) +
scale_fill_manual(values = shield_colors) +
coord_cartesian(ylim = c(10, 25)) +  # Focuses the y-axis between 10 and 25 degrees
labs(
x = expression("Max hourly windspeed (m/s)"),
y = expression("Predicted Night-time Min Temp (째C)"),
color = "Midshield",
fill = "Midshield"
) +
theme_classic() +
theme(
axis.title.x = element_text(family = "Arial", size = 16),
axis.text.x = element_text(family = "Arial", size = 16),
axis.text.y = element_text(family = "Arial", size = 16),
axis.title.y = element_text(family = "Arial", size = 16, margin = margin(r = 10))
)
microclimate_shield_date_night %>%
data_grid(
wind_scaled = seq_range(wind_scaled, n = 101),
midshield_binomial = c(0, 1)
) %>%
add_epred_draws(m_night_date_05, re_formula = NA) %>%
mutate(
# Back-transform windspeed
windspeed_ms = wind_scaled * wind_night_sd + wind_night_mean,
midshield_binomial = factor(
midshield_binomial,
levels = c(0, 1),
labels = c("absent", "present")
)
) %>%
ggplot(aes(x = windspeed_ms,
y = .epred,
color = midshield_binomial,
fill = midshield_binomial)) +
geom_point(data = microclimate_shield_date_night %>%
mutate(
temp_C = min_T2_05,
midshield_binomial = factor(
midshield_binomial,
levels = c(0, 1),
labels = c("absent", "present")
)
),
aes(x = max_windspeed,
y = temp_C,
color = midshield_binomial),
alpha = 0.05,
inherit.aes = FALSE) +
stat_lineribbon(.width = 0.95,
alpha = 0.5,
size = 1) +
scale_color_manual(values = shield_colors) +
scale_fill_manual(values = shield_colors) +
coord_cartesian(ylim = c(10, 25)) +  # Focuses the y-axis between 10 and 25 degrees
labs(
x = expression("Max hourly windspeed (m/s)"),
y = expression("Predicted Night-time Min Temp (째C)"),
color = "Midshield",
fill = "Midshield"
) +
theme_classic() +
theme(
panel.grid.major.y = element_line(color = "gray90", linewidth = 0.5),
axis.title.x = element_text(family = "Arial", size = 16),
axis.text.x = element_text(family = "Arial", size = 16),
axis.text.y = element_text(family = "Arial", size = 16),
axis.title.y = element_text(family = "Arial", size = 16, margin = margin(r = 10))
)
